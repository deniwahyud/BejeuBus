<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Bejeu Admin</title>
        <link rel="shortcut icon" type="image/x-icon" href="img/icon.png"></link>
        <link rel="stylesheet" type="text/css" href="css/bootstrap.css"></link>
        <link rel="stylesheet" type="text/css" href="css/font-awesome.css"></link>
        <link rel="stylesheet" type="text/css" href="css/AdminLTE.css"></link>
        <link rel="stylesheet" type="text/css" href="css/kzm.css"></link>
        <link rel="stylesheet" href="css/_all-skins.css"></link>
    </h:head>
    <h:body class="hold-transition skin-blue sidebar-mini">
        <div class="wrapper">

  <header class="main-header">
    <!-- Logo -->
    <a href="dashboard.jsp" class="logo">
      <!-- mini logo for sidebar mini 50x50 pixels -->
      <span class="logo-mini">BJU</span>
      <!-- logo for regular state and mobile devices -->
      <span class="logo-lg"><b>Bejeu</b>Bus</span>
    </a>
    <!-- Header Navbar: style can be found in header.less -->
    <nav class="navbar navbar-static-top">
      <a href="#" class="sidebar-toggle" data-toggle="offcanvas" role="button">
        <span class="sr-only">Toggle navigation</span>
      </a>
      <div class="pull-left">
      <script language="JavaScript">document.write(tanggallengkap);</script>&nbsp;-&nbsp;<div id="output" class="pull-right"></div>
      </div>
      <div class="pull-right">
      <h:form>
 <h:commandLink action="#{login.logout}" class="btn btn-danger btn-flat" value="Log Out"/>
 </h:form>
        </div>
    </nav>
  </header>
  <!-- Left side column. contains the logo and sidebar -->
  <aside class="main-sidebar">
    <!-- sidebar: style can be found in sidebar.less -->
    <section class="sidebar">
      <ul class="sidebar-menu"> 
        <li class="treeview">
          <a href="dashboard.jsp">
            <i class="fa fa-home"></i> <span>Home</span>
            <span class="pull-right-container">
              <span class="label label-primary pull-right"></span>
            </span>
          </a>
        </li>
        <li class="treeview">
          <a href="#">
            <i class="fa fa-users"></i>
            <span>Account</span>
            <span class="pull-right-container">
              <i class="fa fa-angle-left pull-right"></i></span>
          </a>
          <ul class="treeview-menu">
            <li><a href="viewAkun.xhtml"><i class="fa fa-user"></i>Account Data</a></li>
          </ul>
        </li>
        <li class="treeview">
          <a href="#">
            <i class="fa fa-users"></i>
            <span>Bus</span>
            <span class="pull-right-container">
              <i class="fa fa-angle-left pull-right"></i></span>
          </a>
          <ul class="treeview-menu">
            <li><a href="viewBus.xhtml"><i class="fa fa-user"></i>Bus Data</a></li>
          </ul>
        </li>
          
          <li class="treeview">
          <a href="viewSchedule.xhtml">
            <i class="fa fa-newspaper-o"></i>
            <span>Schedule</span>
            <span class="pull-right-container">
              <i class="fa fa-angle-left pull-right"></i>
            </span>
          </a>
          <ul class="treeview-menu">
            <li><a href="viewJadwal.xhtml"><i class="fa fa-book"></i> Schedule Data</a></li>
          </ul>
        </li>
        <li class="treeview">
          <a href="viewSaran.xhtml">
            <i class="fa fa-globe"></i>
            <span>ContactUS</span>
          </a>
        </li>
      </ul>
    </section>
    <!-- /.sidebar -->
  </aside>

  <!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <h1 class="page-header">
        Data Bus
      </h1>
      <ul class="breadcrumb">
        <li><a href="home"><i class="fa fa-dashboard"></i> Home</a></li>
        <li class="active">Data Bus</li>
      </ul>
    </section>
    <section class="content">
      <div class="box">
<p:dialog id="userDetail1" widgetVar="$userDetail1" header="Add Bus" hideEffect="explode" appendTo="@(body)" resizable="false" draggable="false" closeOnEscape="true">  
        <h:form>  
  
            <p:panelGrid columns="2"    >  
                <h:outputLabel for="nama_bis" value="Nama Bis: *" />
                <p:inputText id="nama_bis" value="#{bisBean.newuser.namaBis}" label="Bus Name" placeholder="Bus Name" />  

                <h:outputLabel for="karoseri" value="Caroserie" />
                <p:inputText id="karoseri" value="#{bisBean.newuser.karoseri}" label="Karoseri" placeholder="Caroserie" />  

                <h:outputLabel for="merk_mesin" value="Chassis" />
                <p:inputText id="merk_mesin" value="#{bisBean.newuser.merkMesin}" label="Chassis" placeholder="Chassis" />

                <h:outputLabel for="warna" value="Warna" />
                <p:inputText id="warna" value="#{bisBean.newuser.warna}" label="Color" placeholder="Color" />

                <p:outputLabel for="kapasitas" value="Kapasitas" />
                <p:inputText id="kapasitas" value="#{bisBean.newuser.kapasitas}" label="Kapasitas" placeholder="Kapasitas" />  

                <p:commandButton value="add" process="@form" id="AddButtonId" ajax="true" icon="ui-icon-plus" update=":form1:bisTable" actionListener="#{bisBean.addBis()}" oncomplete="PF('$userDetail1').hide()" />  
  
                <p:commandButton id="cancelAddButtonId" value="Cancel" onclick="handleComplete(xhr, status, args)" />  
            </p:panelGrid>  
        </h:form>  
  
    </p:dialog>  
    <h:outputScript>  
        /* 
        <![CDATA[ */  
function handleComplete(xhr, status, args) {  
if(args && args.validNama) {  
$userDetail1.hide();  
}  
}  
/* ]]>*/  
  
    </h:outputScript>  
   <p:dialog id="userDetail2" widgetVar="$userDetail2" header="Update User" hideEffect="explode" appendTo="@(body)" resizable="false" draggable="false" closeOnEscape="true">  
        <h:form>  
            <h:inputHidden value="#{bisBean.user.idBis}" />  
            <p:panelGrid columns="2"    >  
                <h:outputLabel for="nim" value="Nama Bis: *" />
                <p:inputText id="nim" value="#{bisBean.user.namaBis}" label="Bus Name" placeholder="Bus Name" />  

                <h:outputLabel for="nama" value="Caroserie: *" />
                <p:inputText id="nama" value="#{bisBean.user.karoseri}" label="Caroserie" placeholder="Caroserie" />  

                <h:outputLabel for="major" value="Chassis: *" />
                <p:inputText id="major" value="#{bisBean.user.merkMesin}" label="Chassis" placeholder="Chassis" />

                <h:outputLabel for="kelas" value="Warna: *" />
                <p:inputText id="kelas" value="#{bisBean.user.warna}" label="Color" placeholder="Color" />

                <p:outputLabel for="suggestion" value="Kapasitas" />
                <p:inputTextarea id="suggestion" label="Suggestion" value="#{bisBean.user.kapasitas}" placeholder="Suggestion" />  

                <p:commandButton value="update" process="@form" id="AddButtonId" update=":form1:bisTable" ajax="true" icon="ui-icon-plus" actionListener="#{bisBean.UpdateUser(bisBean.user)}" oncomplete="PF('$userDetail2').hide()" />  
  
                <p:commandButton id="cancelAddButtonId" value="Cancel" onclick="handleComplete(xhr, status, args)" />  
            </p:panelGrid>  
        </h:form>  
  
    </p:dialog>
                  
    <h:outputScript id="handleCompleteScript" target="body">  
        /* 
        <![CDATA[ */  
function handleComplete(xhr, status, args) {  
if(args && args.validName) {  
$userDetail2.hide();  
}  
}  
/* ]]>*/  
    </h:outputScript>  
  
    <h:form id="form1">  
       
  <p:commandButton icon="ui-icon-plusthick" id="addSaranBtn" value="Add Bus"  update=":userDetail1" ajax="true" oncomplete="PF('$userDetail1').show()" />  
               <p:dataTable value="#{bisBean.users}" var="item"  rows="5" id="bisTable">   
            
           <p:column headerText="Bis ID">  
                <h:outputText value="#{item.idBis}" />  
            </p:column>
            <p:column headerText="Bus Name">  
                <h:outputText value="#{item.namaBis}" />  
            </p:column>
            <p:column headerText="Caroserie">  
                <h:outputText value="#{item.karoseri}" />  
            </p:column>
            <p:column headerText="Chassis">  
                <h:outputText value="#{item.merkMesin}" />  
            </p:column>       
            <p:column headerText="Color">  
                <h:outputText value="#{item.warna}" />  
            </p:column>
            <p:column headerText="Capacity">  
                <h:outputText value="#{item.kapasitas}" />  
             </p:column>
                   <p:column>         
                   <p:commandButton icon="ui-icon-pencil" id="editUserBtn" value="Edit" ajax="true" actionListener="#{bisBean.changeUser(item)}" update=":userDetail2" oncomplete="PF('$userDetail2').show()" />  
                        </p:column>
                        <p:column headerText="Delete" style="text-align: center">
                            <p:commandButton value="Delete" icon="ui-icon-trash" type="button" onclick="PF('confirmDialog').show()" />
                            <p:confirmDialog message="Are you sure want to delete?" header="Deleting" severity="alert" widgetVar="confirmDialog">
                                <p:commandButton value="Yes Sure" update=":form1:bisTable" action="#{bisBean.deleteUser(item)}" oncomplete="PF('confirmDialog').hide();"/>
                                <p:commandButton value="Not Sure" onclick="PF('confirmDialog').hide();" type="button"/>
                            </p:confirmDialog>
                        </p:column>
             
        </p:dataTable>
    </h:form>
            
         </div>
</section>
    
          </div>
  
              

        <!-- right col -->
      </div>
<footer class="main-footer">
    <div class="pull-right hidden-xs">
      <b>Version</b> 1
    </div>
    <strong>Copyright © 2019 - All Rights Reserved</strong>
</footer>
        <!-- jQuery 2.2.3 -->
<script type="text/javascript" src="jquery/jquery-2.2.3.min.js"></script>
<!-- jQuery UI 1.11.4 -->
<script type="text/javascript" src="jquery/jquery-ui.min.js"></script>
<script type="text/javascript" src="jquery/bootstrap.min.js"></script>
<script type="text/javascript" src="jquery/app.min.js"></script>
<!-- AdminLTE dashboard demo (This is only for demo purposes) -->
<script type="text/javascript" src="jquery/pages/dashboard.js"></script>
<!-- AdminLTE for demo purposes -->
<script type="text/javascript" src="jquery/demo.js"></script>

<script type="text/javascript" src="jquery/jquery.dataTables.min.js"></script>
<script type="text/javascript" src="jquery/dataTables.bootstrap.min.js"></script>
        
    </h:body>
</html>

