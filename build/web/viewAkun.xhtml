<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Bejeu Admin</title>
        <link rel="shortcut icon" type="image/x-icon" href="img/icon.png"></link>
        <link rel="stylesheet" type="text/css" href="css/bootstrap.css"></link>
        <link rel="stylesheet" type="text/css" href="css/font-awesome.css"></link>
        <link rel="stylesheet" type="text/css" href="css/AdminLTE.css"></link>
        <link rel="stylesheet" type="text/css" href="css/kzm.css"></link>
        <link rel="stylesheet" href="css/_all-skins.css"></link>
    </h:head>
    <h:body class="hold-transition skin-blue sidebar-mini">
        <div class="wrapper">

  <header class="main-header">
    <!-- Logo -->
    <a href="dashboard.jsp" class="logo">
      <!-- mini logo for sidebar mini 50x50 pixels -->
      <span class="logo-mini">BJU</span>
      <!-- logo for regular state and mobile devices -->
      <span class="logo-lg"><b>Bejeu</b>Bus</span>
    </a>
    <!-- Header Navbar: style can be found in header.less -->
    <nav class="navbar navbar-static-top">
      <a href="#" class="sidebar-toggle" data-toggle="offcanvas" role="button">
        <span class="sr-only">Toggle navigation</span>
      </a>
      <div class="pull-left">
      <script language="JavaScript">document.write(tanggallengkap);</script>&nbsp;-&nbsp;<div id="output" class="pull-right"></div>
      </div>
      <div class="pull-right">
      <h:form>
 <h:commandLink action="#{login.logout}" class="btn btn-danger btn-flat" value="Log Out"/>
 </h:form>
        </div>
    </nav>
  </header>
  <!-- Left side column. contains the logo and sidebar -->
  <aside class="main-sidebar">
    <!-- sidebar: style can be found in sidebar.less -->
    <section class="sidebar">
      <ul class="sidebar-menu"> 
        <li class="treeview">
          <a href="dashboard.jsp">
            <i class="fa fa-home"></i> <span>Home</span>
            <span class="pull-right-container">
              <span class="label label-primary pull-right"></span>
            </span>
          </a>
        </li>
        <li class="treeview">
          <a href="#">
            <i class="fa fa-users"></i>
            <span>Account</span>
            <span class="pull-right-container">
              <i class="fa fa-angle-left pull-right"></i></span>
          </a>
          <ul class="treeview-menu">
            <li><a href="viewAkun.xhtml"><i class="fa fa-user"></i>Account Data</a></li>
          </ul>
        </li>
        <li class="treeview">
          <a href="#">
            <i class="fa fa-users"></i>
            <span>Bus</span>
            <span class="pull-right-container">
              <i class="fa fa-angle-left pull-right"></i></span>
          </a>
          <ul class="treeview-menu">
            <li><a href="viewBus.xhtml"><i class="fa fa-user"></i>Bus Data</a></li>
          </ul>
        </li>
          
          <li class="treeview">
          <a href="viewSchedule.xhtml">
            <i class="fa fa-newspaper-o"></i>
            <span>Schedule</span>
            <span class="pull-right-container">
              <i class="fa fa-angle-left pull-right"></i>
            </span>
          </a>
          <ul class="treeview-menu">
            <li><a href="viewJadwal.xhtml"><i class="fa fa-book"></i> Schedule Data</a></li>
          </ul>
        </li>
        <li class="treeview">
          <a href="viewSaran.xhtml">
            <i class="fa fa-globe"></i>
            <span>ContactUS</span>
          </a>
        </li>
      </ul>
    </section>
    <!-- /.sidebar -->
  </aside>

  <!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <h1 class="page-header">
        Data Bus
      </h1>
      <ul class="breadcrumb">
        <li><a href="home"><i class="fa fa-dashboard"></i> Home</a></li>
        <li class="active">Data Bus</li>
      </ul>
    </section>
    <section class="content">
      <div class="box">
<p:dialog id="userDetail1" widgetVar="$userDetail1" header="Add Bus" hideEffect="explode" appendTo="@(body)" resizable="false" draggable="false" closeOnEscape="true">  
        <h:form>  
  
            <p:panelGrid columns="2"    >  
                <h:outputLabel for="nama_akun" value="Nama Akun: *" />
                <p:inputText id="nama_akun" value="#{akunBean.newuser.nama}" label="Bus Name" placeholder="Insert Name" />  

                <h:outputLabel for="karoseri" value="Caroserie" />
                <p:inputText id="karoseri" value="#{akunBean.newuser.alamat}" label="Karoseri" placeholder="Insert Address" />  

                <h:outputLabel for="merk_mesin" value="Chassis" />
                <p:inputText id="merk_mesin" value="#{akunBean.newuser.jk}" label="Chassis" placeholder="Insert Gender M/W" />

                <h:outputLabel for="tempatLahir" value="Tempat Lahir" />
                <p:inputText id="tempatLahir" value="#{akunBean.newuser.tempatLahir}" label="Color" placeholder="Insert Place of Birth" />

                <p:outputLabel for="tanggalLahir" value="Tanggal Lahir" />
                <p:calendar id="tanggalLahir" value="#{akunBean.newuser.tanggalLahir}" label="Kapasitas" placeholder="Insert Date of Birth" />
                
                <h:outputLabel for="noTelp" value="No Telp" />
                <p:inputText id="noTelp" value="#{akunBean.newuser.noTelp}" label="Color" placeholder="Phone Number" />

                <p:outputLabel for="username" value="Username" />
                <p:inputText id="username" value="#{akunBean.newuser.username}" label="Kapasitas" placeholder="Insert Username" />
                
                <h:outputLabel for="password" value="Password" />
                <p:inputText id="password" value="#{akunBean.newuser.password}" label="Color" placeholder="Insert Password" />

                <p:commandButton value="add" process="@form" id="AddButtonId" ajax="true" icon="ui-icon-plus" update=":form1:akunTable" actionListener="#{akunBean.addAkun()}" oncomplete="PF('$userDetail1').hide()" />  
  
                <p:commandButton id="cancelAddButtonId" value="Cancel" onclick="handleComplete(xhr, status, args)" />  
            </p:panelGrid>  
        </h:form>  
  
    </p:dialog>  
    <h:outputScript>  
        /* 
        <![CDATA[ */  
function handleComplete(xhr, status, args) {  
if(args && args.validNama) {  
$userDetail1.hide();  
}  
}  
/* ]]>*/  
  
    </h:outputScript>  
   <p:dialog id="userDetail2" widgetVar="$userDetail2" header="Update User" hideEffect="explode" appendTo="@(body)" resizable="false" draggable="false" closeOnEscape="true">  
        <h:form>  
            <h:inputHidden value="#{akunBean.user.idAkun}" />  
            <p:panelGrid columns="2"    >  
                <h:outputLabel for="nama_akun" value="Nama Akun: *" />
                <p:inputText id="nama_akun" value="#{akunBean.user.nama}" label="Bus Name" placeholder="Name" />  

                <h:outputLabel for="karoseri" value="Caroserie" />
                <p:inputText id="karoseri" value="#{akunBean.user.alamat}" label="Karoseri" placeholder="Address" />  

                <h:outputLabel for="merk_mesin" value="Chassis" />
                <p:inputText id="merk_mesin" value="#{akunBean.user.jk}" label="Chassis" placeholder="Gender M/W" />

                <h:outputLabel for="tempatLahir" value="tempatLahir" />
                <p:inputText id="tempatLahir" value="#{akunBean.user.tempatLahir}" label="Color" placeholder="Place of Birth" />

                <p:outputLabel for="tanggalLahir" value="tanggalLahir" />
                <p:calendar id="tanggalLahir" value="#{akunBean.user.tanggalLahir}" label="Kapasitas" placeholder="Date of Birth" />
                
                <h:outputLabel for="noTelp" value="noTelp" />
                <p:inputText id="noTelp" value="#{akunBean.user.noTelp}" label="Color" placeholder="Phone Number" />

                <p:outputLabel for="username" value="username" />
                <p:inputText id="username" value="#{akunBean.user.username}" label="Kapasitas" placeholder="Username" />
                
                <h:outputLabel for="password" value="password" />
                <p:inputText id="password" value="#{akunBean.user.password}" label="Color" placeholder="Password" /> 

                <p:commandButton value="update" process="@form" id="AddButtonId" update=":form1:akunTable" ajax="true" icon="ui-icon-plus" actionListener="#{akunBean.UpdateUser(akunBean.user)}" oncomplete="PF('$userDetail2').hide()" />  
  
                <p:commandButton id="cancelAddButtonId" value="Cancel" onclick="handleComplete(xhr, status, args)" />  
            </p:panelGrid>  
        </h:form>  
  
    </p:dialog>
                  
    <h:outputScript id="handleCompleteScript" target="body">  
        /* 
        <![CDATA[ */  
function handleComplete(xhr, status, args) {  
if(args && args.validName) {  
$userDetail2.hide();  
}  
}  
/* ]]>*/  
    </h:outputScript>  
  
    <h:form id="form1">  
       
  <p:commandButton icon="ui-icon-plusthick" id="addSaranBtn" value="Add Bus"  update=":userDetail1" ajax="true" oncomplete="PF('$userDetail1').show()" />  
               <p:dataTable value="#{akunBean.users}" var="item"  rows="5" id="akunTable">   
            
           <p:column headerText="Account ID">  
               <h:outputText value="#{item.idAkun}" />  
            </p:column>
            <p:column headerText="Name">  
                <h:outputText value="#{item.nama}" />  
            </p:column>
            <p:column headerText="Address">  
                <h:outputText value="#{item.alamat}" />  
            </p:column>
            <p:column headerText="Gender">  
                <h:outputText value="#{item.jk}" />  
            </p:column>       
            <p:column headerText="Place of Birth">  
                <h:outputText value="#{item.tempatLahir}" />  
            </p:column>
            <p:column headerText="Date of Birth">  
                <h:outputText value="#{item.tanggalLahir}" />  
             </p:column>
            <p:column headerText="Phone Number">  
                <h:outputText value="#{item.noTelp}" />  
             </p:column>
            <p:column headerText="Username">  
                <h:outputText value="#{item.username}" />  
             </p:column>
            <p:column headerText="Password">  
                <h:outputText value="#{item.password}" />  
             </p:column>
                   <p:column>         
                   <p:commandButton icon="ui-icon-pencil" id="editUserBtn" value="Edit" ajax="true" actionListener="#{akunBean.changeUser(item)}" update=":userDetail2" oncomplete="PF('$userDetail2').show()" />  
                        </p:column>
                        <p:column headerText="Delete" style="text-align: center">
                            <p:commandButton value="Delete" icon="ui-icon-trash" type="button" onclick="PF('confirmDialog').show()" />
                            <p:confirmDialog message="Are you sure want to delete?" header="Deleting" severity="alert" widgetVar="confirmDialog">
                                <p:commandButton value="Yes Sure" update=":form1:akunTable" action="#{akunBean.deleteUser(item)}" oncomplete="PF('confirmDialog').hide();"/>
                                <p:commandButton value="Not Sure" onclick="PF('confirmDialog').hide();" type="button"/>
                            </p:confirmDialog>
                        </p:column>
             
        </p:dataTable>
    </h:form>
            
         </div>
</section>
    
          </div>
  
              

        <!-- right col -->
      </div>
<footer class="main-footer">
    <div class="pull-right hidden-xs">
      <b>Version</b> 1
    </div>
    <strong>Copyright © 2019 - All Rights Reserved</strong>
</footer>
        <!-- jQuery 2.2.3 -->
<script type="text/javascript" src="jquery/jquery-2.2.3.min.js"></script>
<!-- jQuery UI 1.11.4 -->
<script type="text/javascript" src="jquery/jquery-ui.min.js"></script>
<script type="text/javascript" src="jquery/bootstrap.min.js"></script>
<script type="text/javascript" src="jquery/app.min.js"></script>
<!-- AdminLTE dashboard demo (This is only for demo purposes) -->
<script type="text/javascript" src="jquery/pages/dashboard.js"></script>
<!-- AdminLTE for demo purposes -->
<script type="text/javascript" src="jquery/demo.js"></script>

<script type="text/javascript" src="jquery/jquery.dataTables.min.js"></script>
<script type="text/javascript" src="jquery/dataTables.bootstrap.min.js"></script>
        
    </h:body>
</html>

